-- ==========================================
-- The KreOS 3.0 Skylark Application Settings
-- Written by kornichen
-- Lastly modified on 1st April 2015
-- Licensed under General Public License V3
-- ==========================================

os.loadAPI("/system/apis/skylark")

local args = { ... }

if args[1] ~= "settings" then
	error("This has to be started from KreOS.")
end

local pages, buttons, inputboxes, labels, checkboxes, scrollbars, images, render, action = skylark.init()
local w, h = term.getSize()

pages:create("config_applications", "Application Settings", true, colors.white, true)

buttons:create("btnCfgApplicationsSettings", "config_applications", true, 2, 2, "Settings", colors.cyan, colors.gray, function()
	pages:disable("config_applications")
	error()
end)

buttons:create("btnAddApplication", "config_applications", true, 2, 5, "Add application", colors.black, colors.lightGray, function()
	pages:disable("config_applications")
	shell.run("/system/config_addApplication", "config_applications")
	pages:enable("config_applications")
end)
buttons:create("btnDeleteApplication", "config_applications", true, 2, 9, "Delete application", colors.black, colors.lightGray, function()
	pages:disable("config_applications")
	shell.run("/system/config_deleteApplication", "config_applications")
	pages:enable("config_applications")
end)
buttons:create("btnListApplications", "config_applications", true, 2, 13, "List applications", colors.black, colors.lightGray, function()
	pages:disable("config_applications")
	shell.run("/system/config_listApplications", "config_applications")
	pages:enable("config_applications")
end)

while true do
	render:all(pages, buttons, inputboxes, labels, checkboxes, images)
	action:pullEvent(pages, buttons, inputboxes, checkboxes, images)
end